<html layout:decorate="~{layout}">
<!-- layout:fragment 시작~ -->
<div layout:fragment="content" id="contents">
    <h1>Cart List</h1>

    <table>
        <thead>
        <tr>
            <th>제목</th>
            <th>개당 가격</th>
            <th>개수</th>
            <th>값</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="item, iterStat : ${cartList}">
            <td th:text="${item.name}"></td>
            <td th:text="${item.price} + ' 원'"></td>

            <td>
                <input type-="hidden" th:value="${item.isbn}">
                <input type="button" th:data-minus="setup" th:onclick="'count(this, ' + ${iterStat.index} + ', \'' + ${item.isbn} + '\')'" value="-" />
                <span id="result-[[${iterStat.index}]]" th:text="${item.amount} + ' 개'"></span>
                <input type="button" th:data-minus="setup" th:onclick="'count('this', ' + ${iterStat.index} + ', \'' + ${item.isbn} + '\')'" value="+" />
                <input type="hidden" id="isbn-[[${iterStat.index}]]" th:value="${item.isbn}" />
            </td>

            <td th:text="${item.totPrice} + ' 원'"></td>
        </tr>
        <tr>
            <td colspan="3">총 가격</td>
            <td th:text="${cartTotalPrice.cartTotPrice} + ' 원'"></td>
        </tr>
        </tbody>
    </table>
</div>

</html>